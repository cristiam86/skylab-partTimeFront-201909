<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div>
        <div><h2 id="bienvenida-mensaje"></h2></div>
        <div id="word-to-guess"></div>
        <div class="form">
            <form id="guess-form" method="" action="#">
                <input id="input-guess" type="text" maxlength="1" id="letter-input"/>
                <button id="submit-button" type="button">GUESS</button>
            </form>
        </div>
    </div>
    <script>
      var word = "skylabcoders";
      var wordToGuess = word.split('');
      var guessing = wordToGuess.map(function(){return '_'})
      document.getElementById('word-to-guess').innerHTML = guessing.join(' ');
      document.getElementById('guess-form').addEventListener('submit', checkLetter);
      // document.getElementById('submit-button').addEventListener('click', submitForm)
      //console.log("keyword: ",word);

      var lives = word.length -2;
      var bienvenida = "Bienvenido al juego hangman, tienes "+lives+" intentos para acertar la palabra.";
      document.getElementById('bienvenida-mensaje').innerHTML = bienvenida;
      
      function checkLetter(event){
        event.preventDefault();
        var inputLetter = document.getElementById('input-guess').value;
        //check if inputLetter exists on wordToGuess
        //Check lives > 0
            //Continue
            //Muerte
        
        if(lives > 0){
          if(wordToGuess.includes(inputLetter)){
            console.log("Ha elegido la letra: ",inputLetter);
            console.log("Tiene: ",lives," vidas.");
            for(var x = 0; x < wordToGuess.length; x++){
            if(inputLetter == wordToGuess[x]){
              for(var y = 0; y < wordToGuess.length; y++){
                guessing[x] = inputLetter;
                // Borrar contenido del input
                document.getElementById('input-guess').value = "";
              }
            }
          }
            //not matching letter
          } else {
            // decrease lives
            lives--;
            console.log("Ha elegido la letra: ",inputLetter);
            console.log("Tiene: ",lives);
            // Borrar contenido del input
            document.getElementById('input-guess').value = "";
          }
        } else {
          alert ('No te quedan vidas!! Mongolo!!');
        }
        // replace matching letters with inputLetter
        document.getElementById('word-to-guess').innerHTML = guessing.join(' ');
        
      }
       
    </script>
</body>
</html>